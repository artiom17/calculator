<MyButton@Button>:
    font_size: sp(35)
    background_color: [0, 0, 0, 0]
    color: 0, 0, 0, 1

    canvas.before:
        Color:
            rgb: (.96, .96, .96) if self.state=='normal' else (1, 1, 1, 1) # visual feedback of press
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [50,]

<ContainerMain>:
    orientation:'vertical'
    padding: 5

    canvas.before:
        Color:
            rgb: [1, 1, 1]
        Rectangle:
            pos: self.pos
            size: self.size

    lbl: label
    formula: "0"
    res: 0
    num: ""
    fin: ""
    minus: 0

    GridLayout:
        cols: 1
        spacing: 1
        size_hint: 1, .25

        Label:
            id:label
            text: '0'
            font_size: sp(45)
            halign: 'right'
            valign: 'top'
            text_size: self.size
            color: 0, 0, 0, 1

    GridLayout:
        cols: 4
        spacing: 3
        size_hint: 1, .1

        Widget:

        Widget:

        Widget:


        Button:
            id: backspace
            text: '\u232b'
            font_size: sp(25)
            font_name: 'FiraSansRegular.ttf'
            background_color: [0, 0, 0, 0]
            color: 0, .76, .13, 1
            on_press:
                root.backspace()

    GridLayout:
        cols:1
        spacing: 20
        size_hint: 1, .01

        Widget:
            id: separator
            size_hint_y: None
            height: 6
            canvas:
                Color:
                    rgb: .95, .95, .95
                Rectangle:
                    pos: 0, separator.center_y
                    size: separator.width, 1




    GridLayout:
        cols: 4
        spacing: 5
        size_hint: 1, .6

        MyButton:
            id: percent
            text: '%'
            color: 0, .76, .13, 1
            on_press:
                root.par_and_per("%")

        MyButton:
            id: parenthesis_open
            text: '('
            color: 0, .76, .13, 1
            on_press:
                root.par_and_per("(")

        MyButton:
            id: parenthesis_close
            text: ')'
            color: 0, .76, .13, 1
            on_press:
                root.par_and_per(")")

        MyButton:
            id: clear
            text: 'C'
            color: .76, .22, .34, 1
            on_press:
                root.clear()

        MyButton:
            id: 7
            text: '7'
            on_press:
                root.add_number("7")

        MyButton:
            id: 8
            text: '8'
            on_press:
                root.add_number("8")

        MyButton:
            id: 9
            text: '9'
            on_press:
                root.add_number("9")

        MyButton:
            id: plus
            text: '+'
            color: 0, .76, .13, 1
            on_press:
                root.add_operation("+")

        MyButton:
            id: 4
            text: '4'
            on_press:
                root.add_number("4")

        MyButton:
            id: 5
            text: '5'
            on_press:
                root.add_number("5")

        MyButton:
            id: 6
            text: '6'
            on_press:
                root.add_number("6")

        MyButton:
            id: minus
            text: '-'
            color: 0, .76, .13, 1
            on_press:
                root.add_operation("-")

        MyButton:
            id: 1
            text: '1'
            on_press:
                root.add_number("1")

        MyButton:
            id: 2
            text: '2'
            on_press:
                root.add_number("2")

        MyButton:
            id: 3
            text: '3'
            on_press:
                root.add_number("3")

        MyButton:
            id: multiply
            text: '*'
            color: 0, .76, .13, 1
            on_press:
                root.add_operation("*")

        MyButton:
            id: dot
            text: '.'
            on_press:
                root.add_operation(".")

        MyButton:
            id: 0
            text: '0'
            on_press:
                root.add_number("0")

        Button:
            id: equal
            text: '='
            font_size: sp(35)
            background_color: [0, 0, 0, 0]
            color: 1, 1, 1, 1

            canvas.before:
                Color:
                    rgba: (0, .76, .13, 1) if self.state=='normal' else (1, 1, 1, 1) # visual feedback of press
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [50,]
            on_press:
                root.calculate()

        MyButton:
            id: divide
            text: '/'
            color: 0, .76, .13, 1
            on_press:
                root.add_operation("/")
